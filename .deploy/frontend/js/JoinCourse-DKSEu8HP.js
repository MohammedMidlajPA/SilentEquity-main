import{n as y}from"./rolldown-runtime-CqndAUA0.js";import{S as v,c as w,f as _,p as N,s as S}from"./react-vendor-C4mZm-QB.js";import{n as B,r as j,t as F}from"./vendor-DLkhbl5P.js";var l=y(v());function m(...r){return r.filter(Boolean).join(" ")}var e=y(N()),T={primary:"shad-button--primary",ghost:"shad-button--ghost",outline:"shad-button--outline"},x=l.forwardRef(({className:r,variant:a="primary",...t},s)=>(0,e.jsx)("button",{ref:s,className:m("shad-button",T[a],r),...t}));x.displayName="Button";var c=l.forwardRef(({className:r,type:a="text",...t},s)=>(0,e.jsx)("input",{type:a,ref:s,className:m("shad-input",r),...t}));c.displayName="Input";var k=({children:r,...a})=>(0,e.jsx)(w,{...a,children:r}),f=({control:r,name:a,render:t})=>(0,e.jsx)(S,{control:r,name:a,render:t}),d=l.forwardRef(({className:r,...a},t)=>(0,e.jsx)("div",{ref:t,className:m("form-item",r),...a}));d.displayName="FormItem";var u=l.forwardRef(({className:r,...a},t)=>(0,e.jsx)("label",{ref:t,className:m("form-label",r),...a}));u.displayName="FormLabel";var h=l.forwardRef(({className:r,...a},t)=>(0,e.jsx)("div",{ref:t,className:m("form-control",r),...a}));h.displayName="FormControl";var g=({className:r,children:a,error:t})=>{const s=t||a;return s?(0,e.jsx)("p",{className:m("form-message",r),children:s}):null};g.displayName="FormMessage";var C="/api";async function P(r){const a=(r.headers.get("content-type")||"").includes("application/json"),t=a?await r.json():await r.text();if(!r.ok){let s="Unable to submit form. Please try again.";throw a?t.errors&&Array.isArray(t.errors)?s=t.errors.join(". "):t.message&&(s=t.message):s=t||s,new Error(s)}return t}async function E(r){let a;const t=new AbortController,s=setTimeout(()=>t.abort(),1e4);try{a=await fetch(`${C}/course/join`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r),signal:t.signal}),clearTimeout(s)}catch(p){throw clearTimeout(s),p.name==="AbortError"?new Error("Request timed out. Please check your connection and try again."):new Error("Unable to reach the enrollment API. Ensure the backend is running.")}const n=await P(a);if(!n?.checkoutUrl)throw new Error("Payment link missing from server response.");return n}var L=B({name:j().min(2,"Name must be at least 2 characters").max(100,"Name is too long"),email:j().email("Enter a valid email address"),phone:j().min(10,"Phone must be at least 10 digits").max(20,"Phone must be 20 digits or fewer").regex(/^[\d+\-() ]{10,20}$/,"Phone number contains invalid characters")}),A=()=>{const[r,a]=l.useState({submitting:!1,error:""}),[t,s]=l.useState(!1),n=_({resolver:F(L),defaultValues:{name:"",email:"",phone:""}}),p=async i=>{if(!t){s(!0),a({submitting:!0,error:""});try{const{checkoutUrl:o}=await E(i);if(o)await new Promise(b=>setTimeout(b,100)),window.location.href=o;else throw new Error("No checkout URL received from server")}catch(o){s(!1),a({submitting:!1,error:o.message||"Unable to start payment. Please check your connection and try again."})}}};return(0,e.jsx)("section",{className:"join-course","aria-labelledby":"join-course-title",children:(0,e.jsxs)("div",{className:"join-course__grid",children:[(0,e.jsxs)("div",{className:"glass-card join-course__visual",children:[(0,e.jsxs)("div",{className:"join-course__visual-content",children:[(0,e.jsx)("p",{className:"eyebrow",children:"Silent Equity"}),(0,e.jsx)("h2",{children:"Learn to Trade Like a Professional"}),(0,e.jsx)("p",{children:"Join our 3-month trading program built to help you think, act, and execute like a real trader. You’ll follow a structured learning path, face practical trading challenges, and master proven risk management methods used by professionals."}),(0,e.jsx)("p",{children:"With team support, mentorship, and accountability, you won’t be learning alone—you’ll grow with a community focused on real progress, not quick profits."}),(0,e.jsx)("p",{children:"Enroll now and start your journey toward consistent, disciplined trading."})]}),(0,e.jsxs)("div",{className:"join-course__visual-media","aria-hidden":"true",children:[(0,e.jsx)("img",{src:"/media/course-image.jpeg",alt:"Trading course illustration",loading:"lazy"}),(0,e.jsx)("div",{className:"join-course__visual-waves wave-one"}),(0,e.jsx)("div",{className:"join-course__visual-waves wave-two"})]})]}),(0,e.jsxs)("div",{className:"glass-card join-course__form-card",children:[(0,e.jsxs)("div",{className:"glass-card__header",children:[(0,e.jsx)("p",{className:"eyebrow",children:"JOIN THE COURSE"}),(0,e.jsx)("h1",{id:"join-course-title",children:"Code of Consistency"}),(0,e.jsxs)("div",{className:"glass-card__description",style:{marginTop:"1.25rem",marginBottom:"1.75rem"},children:[(0,e.jsx)("p",{style:{marginBottom:"1rem",lineHeight:"1.6",fontSize:"0.95rem",color:"var(--muted)"},children:"A focused trading program designed to build discipline, structure, and repeatable results."}),(0,e.jsx)("p",{style:{marginBottom:"1.5rem",lineHeight:"1.6",fontSize:"0.95rem",color:"var(--muted)"},children:"This course teaches you how to follow a daily trading system, avoid emotional decisions, and trade with clarity."}),(0,e.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,e.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.75rem",color:"#9fece2",letterSpacing:"0.05em",textTransform:"uppercase"},children:"What You Get"}),(0,e.jsxs)("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"1.8",fontSize:"0.9rem",color:"var(--muted)"},children:[(0,e.jsx)("li",{style:{marginBottom:"0.5rem",paddingLeft:"0.5rem"},children:"• A simple, consistent trading routine"}),(0,e.jsx)("li",{style:{marginBottom:"0.5rem",paddingLeft:"0.5rem"},children:"• Market structure & SMC basics"}),(0,e.jsx)("li",{style:{marginBottom:"0.5rem",paddingLeft:"0.5rem"},children:"• Clear risk management rules"}),(0,e.jsx)("li",{style:{marginBottom:"0.5rem",paddingLeft:"0.5rem"},children:"• High-probability trade setups"}),(0,e.jsx)("li",{style:{marginBottom:"0.5rem",paddingLeft:"0.5rem"},children:"• Psychology and discipline training"})]})]}),(0,e.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,e.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.75rem",color:"#9fece2",letterSpacing:"0.05em",textTransform:"uppercase"},children:"Built For"}),(0,e.jsx)("p",{style:{lineHeight:"1.6",marginBottom:"0.5rem",fontSize:"0.9rem",color:"var(--muted)"},children:"Beginners, struggling traders, and funded traders who want stable, controlled, and consistent performance."}),(0,e.jsx)("p",{style:{lineHeight:"1.6",fontStyle:"italic",color:"#9fece2",fontSize:"0.9rem",marginTop:"0.75rem"},children:"Trade less. Trade better. Stay consistent."})]})]}),(0,e.jsx)("p",{className:"glass-card__subtitle",style:{marginTop:"1.5rem",fontSize:"0.9rem"},children:"Complete the intake form to save your cohort seat, then finish payment on Stripe using your existing live checkout."})]}),(0,e.jsx)(k,{...n,children:(0,e.jsxs)("form",{className:"glass-card__form",onSubmit:n.handleSubmit(p),noValidate:!0,children:[(0,e.jsx)(f,{control:n.control,name:"name",render:({field:i,fieldState:o})=>(0,e.jsxs)(d,{children:[(0,e.jsx)(u,{htmlFor:"name",children:"Name"}),(0,e.jsx)(h,{children:(0,e.jsx)(c,{id:"name",placeholder:"Jai Verma",autoComplete:"name",...i})}),(0,e.jsx)(g,{error:o.error?.message})]})}),(0,e.jsx)(f,{control:n.control,name:"email",render:({field:i,fieldState:o})=>(0,e.jsxs)(d,{children:[(0,e.jsx)(u,{htmlFor:"email",children:"Email"}),(0,e.jsx)(h,{children:(0,e.jsx)(c,{id:"email",type:"email",placeholder:"you@email.com",autoComplete:"email",...i})}),(0,e.jsx)(g,{error:o.error?.message})]})}),(0,e.jsx)(f,{control:n.control,name:"phone",render:({field:i,fieldState:o})=>(0,e.jsxs)(d,{children:[(0,e.jsx)(u,{htmlFor:"phone",children:"Phone"}),(0,e.jsx)(h,{children:(0,e.jsx)(c,{id:"phone",type:"tel",placeholder:"+91 98765 43210",autoComplete:"tel",...i})}),(0,e.jsx)(g,{error:o.error?.message})]})}),r.error&&(0,e.jsx)("p",{className:"form-error-banner",role:"alert",children:r.error}),(0,e.jsx)("div",{className:"glass-card__actions",children:(0,e.jsx)(x,{type:"submit",disabled:r.submitting||t,children:r.submitting||t?"Processing…":"Proceed to payment"})})]})})]})]})})},U=A;export{U as default};
